(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{16:function(e,t,c){},25:function(e,t,c){},83:function(e,t,c){},84:function(e,t,c){},88:function(e,t,c){},89:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(43),s=c.n(a),i=c(5),r=c(7),o=c(8),l=c(1),d=function(){return Object(l.jsxs)("div",{className:"notification",children:[Object(l.jsx)("span",{children:"Follow us on the Instagram page"}),Object(l.jsx)("a",{href:"https://instgram.com",target:"_blank",rel:"noreferrer",children:Object(l.jsx)("button",{children:"Join Now"})})]})},j=c(15),u=c.n(j),b=c(19),h=c(6),O=c.n(h),m=function(e){var t=e.handleHamburger;return Object(l.jsxs)("svg",{viewBox:"0 0 100 80",width:"40",height:"40",onClick:t,children:[Object(l.jsx)("rect",{y:"7",width:"100",height:"12"}),Object(l.jsx)("rect",{y:"35",width:"100",height:"12"}),Object(l.jsx)("rect",{y:"65",width:"100",height:"12"})]})},x=function(){var e=Object(n.useContext)(U),t=e.mainData,c=e.setMainData,a=Object(n.useState)(!1),s=Object(i.a)(a,2),d=s[0],j=s[1],h=Object(o.f)(),x=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/logout",{token:t.token}).then((function(e){"Logged Out"===e.data.status&&(localStorage.removeItem("accessToken"),localStorage.removeItem("email"),h.push("/"),c({}))})).catch((function(e){alert("Couldn't log out..")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=t.email.split("@")[0];return e.length>12?e.substr(0,12)+"..":e};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("nav",{className:"navbar",children:[Object(l.jsxs)("div",{className:"leftnav",children:[Object(l.jsx)(r.b,{to:"/",children:Object(l.jsx)("img",{src:"/assets/imgs/icon.png",alt:"RECTN"})}),Object(l.jsx)("ul",{children:Object(l.jsxs)(o.a,{exact:!0,path:"/",children:[Object(l.jsxs)("li",{children:[" ",Object(l.jsx)("a",{href:"#movies",children:"TOP MOVIES"})]}),Object(l.jsxs)("li",{children:[" ",Object(l.jsx)("a",{href:"#tvshows",children:"TOP TV-SERIES"})]}),Object(l.jsx)("li",{children:Object(l.jsx)(r.b,{to:"/search",children:"SEARCH"})})]})})]}),Object(l.jsxs)("div",{className:"rightnav",children:[Object(l.jsx)(m,{handleHamburger:function(){j(!d)}}),t.accessToken?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.b,{to:"/profile",children:Object(l.jsxs)("button",{className:"login profile-btn",children:[Object(l.jsx)("img",{src:"/assets/imgs/identicons/000".concat(Math.floor(3*Math.random())+1,".png"),alt:"Identicon",className:"small-identicon"})," ",Object(l.jsx)("p",{children:f()})]})}),Object(l.jsx)("button",{className:"register",onClick:x,children:"LOG OUT"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.b,{to:"/login",children:Object(l.jsx)("button",{className:"login",children:"LOGIN"})}),Object(l.jsx)(r.b,{to:"/register",children:Object(l.jsx)("button",{className:"register",children:"REGISTER"})})]})]})]}),d&&Object(l.jsxs)("div",{className:"bottom-navbar-sm-screen",onClick:function(){j(!1)},children:[Object(l.jsxs)(o.a,{exact:!0,path:"/",children:[Object(l.jsx)("a",{href:"#movies",children:Object(l.jsx)("button",{children:"TOP MOVIES"})}),Object(l.jsx)("a",{href:"#tvshows",children:Object(l.jsx)("button",{children:"TOP TV-SERIES"})}),Object(l.jsx)(r.b,{to:"/search",children:Object(l.jsx)("button",{children:"SEARCH"})})]}),t.accessToken?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.b,{to:"/profile",children:Object(l.jsxs)("button",{className:"profile-btn",children:[Object(l.jsx)("img",{src:"/assets/imgs/identicons/000".concat(Math.floor(3*Math.random())+1,".png"),alt:"Identicon",className:"small-identicon"})," ",Object(l.jsx)("p",{children:f()})]})}),Object(l.jsx)("button",{className:"register",onClick:x,children:"LOG OUT"})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(r.b,{to:"/login",children:Object(l.jsx)("button",{children:"LOGIN"})}),Object(l.jsx)(r.b,{to:"/register",children:Object(l.jsx)("button",{children:"REGISTER"})})]})]})]})},f=(c(83),function(e){switch(e){case 28:return"Action";case 12:return"Adventure";case 16:return"Animation";case 35:return"Comedy";case 80:return"Crime";case 99:return"Documentary";case 18:return"Drama";case 10751:return"Family";case 14:return"Fantasy";case 36:return"History";case 27:return"Horror";case 10402:return"Music";case 9648:return"Mystery";case 10749:return"Romance";case 878:return"Science Fiction";case 10770:return"TV Movie";case 53:return"Thriller";case 10752:return"War";case 37:return"Western";case 10759:return"Action & Adventure";case 10763:return"News";case 10764:return"Reality";case 10765:return"Sci-Fi & Fantasy";case 10766:return"Soap";case 10767:return"Talk";case 10768:return"War & Politics";default:return"Unknown"}}),g=[28,12,16,35,80,99,18,10751,14,36,27,10402,9648,10749,878,10770,53,10752,37,10759,10763,10764,10765,10766,10767,10768],v=function(){var e,t,c=Object(n.useState)(0),a=Object(i.a)(c,2),s=a[0],r=a[1],d=Object(n.useState)([]),j=Object(i.a)(d,2),u=j[0],b=j[1],h=Object(o.f)(),m=function(e){var t=s+e;-1===t&&(t=u.length-1),t===u.length&&(t=0),r(t)};Object(n.useEffect)((function(){window.scrollTo(0,0),document.title="REC TN",O.a.get("http://rec76.pythonanywhere.com/top-trending").then((function(e){e.data.forEach((function(e){e.genre_ids=e.genre_ids.map((function(e){return f(e)}))})),b(e.data)}))}),[]);return Object(l.jsx)("section",{className:"carousel",children:u.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("img",{src:"http://image.tmdb.org/t/p/w500"+u[s].backdrop_path,alt:"Trending Display"}),Object(l.jsx)("img",{className:"overlay",src:"/assets/imgs/overlay.png",alt:""}),Object(l.jsx)("img",{className:"previous",src:"/assets/imgs/previous.png",alt:"Previous Trending",onClick:function(){return m(-1)}}),Object(l.jsx)("img",{className:"next",src:"/assets/imgs/next.png",alt:"Next Trending",onClick:function(){return m(1)}}),Object(l.jsx)("div",{className:"content",children:Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{children:[null===(e=u[s])||void 0===e?void 0:e.original_title,null===(t=u[s])||void 0===t?void 0:t.name]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:"Genre: "}),u[s].genre_ids.join(", ")]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("strong",{children:"Rating: "}),u[s].vote_average]}),Object(l.jsx)("p",{children:u[s].overview}),Object(l.jsx)("button",{onClick:function(){var e,t="/media/".concat(null===(e=u[s])||void 0===e?void 0:e.id);h.push(t)},children:"View Movie"})]})})]}):Object(l.jsx)("div",{className:"loading",children:"Loading..."})})},p=(c(84),function(e){var t=e.media,c=Object(o.f)();return Object(l.jsx)("div",{className:"media-cards",children:t.map((function(e){return Object(l.jsxs)("div",{className:"media-card",onClick:function(){return function(e){var t="/media/".concat(e);c.push(t)}(e.id)},children:[Object(l.jsx)("img",{src:"http://image.tmdb.org/t/p/w500"+e.poster_path,alt:"Poster"}),Object(l.jsxs)("div",{className:"media-card-content",children:[Object(l.jsxs)("div",{children:[null===e||void 0===e?void 0:e.original_title,null===e||void 0===e?void 0:e.name]}),Object(l.jsx)("div",{children:e.genre_ids.join(", ")}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{children:[null===e||void 0===e?void 0:e.release_date.substr(0,4),null===e||void 0===e?void 0:e.first_air_date.substr(0,4)]}),Object(l.jsxs)("div",{children:[e.vote_average,"/10"]})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)("img",{src:"/assets/imgs/play.png",alt:""})})]},e.id)}))})}),N=(c(25),function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("recommended"),r=Object(i.a)(s,2),o=r[0],d=r[1],j=Object(n.useState)([]),u=Object(i.a)(j,2),b=u[0],h=u[1],m=function(e,t){O.a.get("http://rec76.pythonanywhere.com/movie/".concat(e,"/page/").concat(t)).then((function(e){e.data.forEach((function(e){e.genre_ids=e.genre_ids.map((function(e){return f(e)}))})),h(e.data),a(t)}))};Object(n.useEffect)((function(){m(o,1)}),[o]);var x=function(e){a(1),d(e)};return Object(l.jsxs)("section",{className:"media",id:"movies",children:[Object(l.jsx)("h2",{children:"Movies"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{className:"recommended"===o?"selected":"",onClick:function(){return x("recommended")},children:"RECOMMENDED"}),Object(l.jsx)("li",{className:"top-rated"===o?"selected":"",onClick:function(){return x("top-rated")},children:"TOP RATED"}),Object(l.jsx)("li",{className:"new-releases"===o?"selected":"",onClick:function(){return x("new-releases")},children:"NEW RELEASES"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)(p,{media:b}),Object(l.jsxs)("div",{className:"pagination without-bottom-padding",children:[Object(l.jsx)("button",{onClick:function(){1!==c&&m(o,c-1)},className:1===c?"disabled-btn":"",children:"Prev."}),Object(l.jsxs)("button",{className:"txt",children:["Page ",c]}),Object(l.jsx)("button",{onClick:function(){m(o,c+1)},className:b.length<12?"disabled-btn":"",children:"Next"})]})]})}),k=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("action"),r=Object(i.a)(s,2),o=r[0],d=r[1],j=Object(n.useState)([]),u=Object(i.a)(j,2),b=u[0],h=u[1],m=function(e,t){O.a.get("http://rec76.pythonanywhere.com/movie/".concat(e,"/page/").concat(t)).then((function(e){e.data.length?(e.data.forEach((function(e){e.genre_ids=e.genre_ids.map((function(e){return f(e)}))})),h(e.data),a(t)):alert("No more pages to load")}))};Object(n.useEffect)((function(){m(o,1)}),[o]);var x=function(e){a(1),d(e)};return Object(l.jsxs)("section",{className:"media",children:[Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{className:"action"===o?"selected":"",onClick:function(){return x("action")},children:"ACTION"}),Object(l.jsx)("li",{className:"drama"===o?"selected":"",onClick:function(){return x("drama")},children:"DRAMA"}),Object(l.jsx)("li",{className:"horror"===o?"selected":"",onClick:function(){return x("horror")},children:"HORROR"}),Object(l.jsx)("li",{className:"comedy"===o?"selected":"",onClick:function(){return x("comedy")},children:"COMEDY"}),Object(l.jsx)("li",{className:"family"===o?"selected":"",onClick:function(){return x("family")},children:"FAMILY"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)(p,{media:b}),Object(l.jsxs)("div",{className:"pagination",children:[Object(l.jsx)("button",{onClick:function(){1!==c&&m(o,c-1)},className:1===c?"disabled-btn":"",children:"Prev."}),Object(l.jsxs)("button",{className:"txt",children:["Page ",c]}),Object(l.jsx)("button",{onClick:function(){m(o,c+1)},className:b.length<12?"disabled-btn":"",children:"Next"})]})]})},w=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("recommended"),r=Object(i.a)(s,2),o=r[0],d=r[1],j=Object(n.useState)([]),u=Object(i.a)(j,2),b=u[0],h=u[1],m=function(e,t){O.a.get("http://rec76.pythonanywhere.com/tv/".concat(e,"/page/").concat(t)).then((function(e){e.data.forEach((function(e){e.genre_ids=e.genre_ids.map((function(e){return f(e)}))})),h(e.data),a(t)}))};Object(n.useEffect)((function(){m(o,1)}),[o]);var x=function(e){a(1),d(e)};return Object(l.jsxs)("section",{className:"media",id:"tvshows",children:[Object(l.jsx)("h2",{children:"TV Shows"}),Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{className:"recommended"===o?"selected":"",onClick:function(){return x("recommended")},children:"RECOMMENDED"}),Object(l.jsx)("li",{className:"top-rated"===o?"selected":"",onClick:function(){return x("top-rated")},children:"TOP RATED"}),Object(l.jsx)("li",{className:"new-releases"===o?"selected":"",onClick:function(){return x("new-releases")},children:"NEW RELEASES"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)(p,{media:b}),Object(l.jsxs)("div",{className:"pagination without-bottom-padding",children:[Object(l.jsx)("button",{onClick:function(){1!==c&&m(o,c-1)},className:1===c?"disabled-btn":"",children:"Prev."}),Object(l.jsxs)("button",{className:"txt",children:["Page ",c]}),Object(l.jsx)("button",{onClick:function(){m(o,c+1)},className:b.length<12?"disabled-btn":"",children:"Next"})]})]})},y=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)("action-and-adventure"),r=Object(i.a)(s,2),o=r[0],d=r[1],j=Object(n.useState)([]),u=Object(i.a)(j,2),b=u[0],h=u[1],m=function(e,t){O.a.get("http://rec76.pythonanywhere.com/tv/".concat(e,"/page/").concat(t)).then((function(e){e.data.length?(e.data.forEach((function(e){e.genre_ids=e.genre_ids.map((function(e){return f(e)}))})),h(e.data),a(t)):alert("No more pages to load")}))};Object(n.useEffect)((function(){m(o,1)}),[o]);var x=function(e){a(1),d(e)};return Object(l.jsxs)("section",{className:"media",children:[Object(l.jsxs)("ul",{children:[Object(l.jsx)("li",{className:"action-and-adventure"===o?"selected":"",onClick:function(){return x("action-and-adventure")},children:"ACTION & ADVENTURE"}),Object(l.jsx)("li",{className:"crime"===o?"selected":"",onClick:function(){return x("crime")},children:"CRIME"}),Object(l.jsx)("li",{className:"drama"===o?"selected":"",onClick:function(){return x("drama")},children:"DRAMA"}),Object(l.jsx)("li",{className:"sci-fi-and-fantasy"===o?"selected":"",onClick:function(){return x("sci-fi-and-fantasy")},children:"SCI-FI & FANTASY"}),Object(l.jsx)("li",{className:"family"===o?"selected":"",onClick:function(){return x("family")},children:"FAMILY"})]}),Object(l.jsx)("hr",{}),Object(l.jsx)(p,{media:b}),Object(l.jsxs)("div",{className:"pagination",children:[Object(l.jsx)("button",{onClick:function(){1!==c&&m(o,c-1)},className:1===c?"disabled-btn":"",children:"Prev."}),Object(l.jsxs)("button",{className:"txt",children:["Page ",c]}),Object(l.jsx)("button",{onClick:function(){m(o,c+1)},className:b.length<12?"disabled-btn":"",children:"Next"})]})]})},T=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("p",{children:["All Rights Are Reserved \xa9 RECTN ",Object(l.jsx)("span",{children:"i"}),(new Date).getFullYear()]})})},C=c(45),E=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],s=function(){window.pageYOffset<655?a(!1):a(!0)};return Object(n.useEffect)((function(){return window.addEventListener("scroll",s),function(){window.removeEventListener("scroll",s)}}),[]),Object(l.jsx)("div",{className:"go-to-top",style:{display:c?"block":"none"},onClick:function(){window.scrollTo(0,0)},children:Object(l.jsx)(C.a,{})})},S=c(20),_=c(21),R=(c(16),function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),d=r[0],j=r[1],h=Object(n.useState)(null),m=Object(i.a)(h,2),x=m[0],f=m[1],g=Object(o.f)(),v=Object(n.useContext)(U).setMainData,p=Object(o.g)().search;Object(n.useEffect)((function(){f(new URLSearchParams(p).get("newly-registered")),document.title="REC TN \u2023 Login",localStorage.getItem("accessToken")&&g.push("/")}),[]),Object(n.useEffect)((function(){console.log("=================="),console.log(x),console.log("==================")}),[x]);var N=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(""),c.email&&c.password){e.next=4;break}return j("Please fill all fields first."),e.abrupt("return");case 4:return e.next=6,O.a.post("/login",c).then((function(e){"Logged In"===e.data.status?(localStorage.setItem("accessToken",e.data.accessToken),localStorage.setItem("email",c.email),v({accessToken:e.data.accessToken,email:c.email}),g.push("/")):j("Invalid Logins.")})).catch((function(e){alert("Couldn't log out..")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(e){a(Object(_.a)(Object(_.a)({},c),{},Object(S.a)({},e.target.name,e.target.value)))},w=function(e){"Enter"===e.key&&N()};return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Log In"}),x&&Object(l.jsxs)("p",{className:"alert",children:["You've been successfully registered!",Object(l.jsx)("br",{}),"You can login now."]}),Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Email:"}),Object(l.jsx)("input",{type:"email",name:"email",autoFocus:!0,placeholder:"Please enter your email",onChange:k,onKeyDown:w,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Password:"}),Object(l.jsx)("input",{type:"password",name:"password",placeholder:"Please enter your password",onChange:k,onKeyDown:w,required:!0})]}),Object(l.jsx)("button",{type:"button",onClick:N,children:"Log In Now"}),d&&Object(l.jsx)("label",{className:"error",children:d})]})]})}),I=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),d=r[0],j=r[1],h=Object(o.f)();Object(n.useEffect)((function(){document.title="REC TN \u2023 Register",localStorage.getItem("accessToken")&&h.push("/")}),[]);var m=function(e){a(Object(_.a)(Object(_.a)({},c),{},Object(S.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(""),c.email&&c.password){e.next=4;break}return j("Please fill all fields first."),e.abrupt("return");case 4:return e.next=6,O.a.post("/register",c).then((function(e){"Registered"===e.data.status?h.push("/login?newly-registered=true"):j("An occor occured.")})).catch((function(e){var t;409===(null===(t=e.response)||void 0===t?void 0:t.status)?j("User with the same email exists."):j("An occor occured.")}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){"Enter"===e.key&&x()};return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Register"}),Object(l.jsxs)("form",{children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Email:"}),Object(l.jsx)("input",{type:"email",name:"email",autoFocus:!0,placeholder:"Please enter your email",onChange:m,onKeyDown:f,required:!0})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Password:"}),Object(l.jsx)("input",{type:"password",name:"password",placeholder:"Please enter your password",onChange:m,onKeyDown:f,required:!0})]}),Object(l.jsx)("button",{type:"button",onClick:x,children:"Register Now"}),d&&Object(l.jsx)("label",{className:"error",children:d})]})]})},P=function(){var e,t=Object(n.useContext)(U),c=t.mainData,a=t.setMainData,s=Object(o.f)();Object(n.useEffect)((function(){document.title="REC TN \u2023 Profile",localStorage.getItem("accessToken")||s.push("/login")}),[]);return Object(l.jsxs)("div",{className:"container profile",children:[Object(l.jsx)("h1",{children:"Profile"}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("label",{children:"Username: "}),Object(l.jsx)("p",{children:null===(e=c.email)||void 0===e?void 0:e.split("@")[0]}),Object(l.jsx)("label",{children:"Email: "}),Object(l.jsx)("p",{children:c.email}),Object(l.jsx)("label",{children:"Password: "}),Object(l.jsx)("p",{children:"******"}),Object(l.jsxs)("div",{className:"btns",children:[Object(l.jsx)(r.b,{to:"/favorites",children:Object(l.jsx)("button",{children:"Favorite Movies and TV Shows"})}),Object(l.jsx)(r.b,{to:"/favorite-genres",children:Object(l.jsx)("button",{children:"Favorite Genres"})}),Object(l.jsx)("button",{type:"button",className:"delete-btn",onClick:function(){O.a.post("/delete-account",{accessToken:c.accessToken}).then((function(e){"Account Deleted"===e.data.status&&(localStorage.removeItem("accessToken"),localStorage.removeItem("email"),a({}),s.push("/"))})).catch((function(e){alert("Couldn't delete the account..")}))},children:"Delete Account"})]})]})]})},F=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useContext)(U).mainData,d=Object(o.f)();return Object(n.useEffect)((function(){localStorage.getItem("accessToken")||d.push("/login"),document.title="REC TN \u2023 Favorites",O.a.post("/favorites",{accessToken:s.accessToken}).then((function(e){O.a.post("http://rec76.pythonanywhere.com/medias-from-ids",e.data).then((function(e){a(e.data)}))}))}),[]),Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("h1",{children:[" ",Object(l.jsx)(r.b,{to:"/profile",className:"go-back",children:Object(l.jsx)("img",{src:"/assets/imgs/previous.png",alt:"Go To Profile"})}),"Favorite Movies and TV Shows"]}),Object(l.jsxs)("div",{className:"similar-medias some-px",children:[0===c.length&&"Nothing is saved yet.",null===c||void 0===c?void 0:c.map((function(e){var t;return Object(l.jsxs)(r.b,{className:"single-similar-media",to:"/media/".concat(e.id),children:[Object(l.jsx)("img",{src:"http://image.tmdb.org/t/p/w500"+e.backdrop_path,alt:"Poster"}),Object(l.jsxs)("div",{className:"img_paragraphs",children:[Object(l.jsxs)("p",{children:[null===e||void 0===e?void 0:e.original_title,null===e||void 0===e?void 0:e.name,(null===e||void 0===e?void 0:e.release_date)&&" (".concat(e.release_date.substr(0,4),")"),(null===e||void 0===e?void 0:e.first_air_date)&&" (".concat(e.first_air_date.substr(0,4),")")]}),Object(l.jsx)("p",{children:null===e||void 0===e||null===(t=e.genre_ids)||void 0===t?void 0:t.map((function(e){return f(e)})).join(", ")})]})]},e.id)}))]})]})},A=c(17),D=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useContext)(U).mainData,d=Object(o.f)();Object(n.useEffect)((function(){localStorage.getItem("accessToken")||d.push("/login"),document.title="REC TN \u2023 Favorite Genres"}),[]),Object(n.useEffect)((function(){O.a.post("/favorite-genres",{accessToken:s.accessToken}).then((function(e){a(e.data)})).catch((function(e){}))}),[s]);return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("h1",{children:[Object(l.jsx)(r.b,{to:"/profile",className:"go-back",children:Object(l.jsx)("img",{src:"/assets/imgs/previous.png",alt:"Go To Profile"})}),"Favorite Genres"]}),Object(l.jsx)("div",{className:"content",children:g.map((function(e){return Object(l.jsx)("div",{className:"genre-item",children:Object(l.jsxs)("div",{onClick:function(){return function(e){O.a.post("/favorite-genres/toggle",{genreId:e,accessToken:s.accessToken}).then((function(e){a(e.data)})).catch((function(e){}))}(e)},children:[(null===c||void 0===c?void 0:c.includes(e))?Object(l.jsx)(A.a,{className:"icon"}):Object(l.jsx)(A.b,{className:"icon"})," ",f(e)]})},e)}))})]})},M=function(e){return(e=e.split("-").reverse())[0]=+e[0],e[1]=function(e){switch(e){case 1:return"January";case 2:return"February";case 3:return"March";case 4:return"April";case 5:return"May";case 6:return"June";case 7:return"July";case 8:return"August";case 9:return"Septembre";case 10:return"October";case 11:return"November";case 12:return"December";default:return""}}(+e[1]),e.join(" ")},L=c(53),V=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),d=Object(i.a)(s,2),j=d[0],u=d[1],b=Object(n.useState)(!1),h=Object(i.a)(b,2),m=h[0],x=h[1],g=Object(n.useState)([]),v=Object(i.a)(g,2),p=v[0],N=v[1],k=Object(n.useContext)(U).mainData,w=Object(o.h)().mediaId,y=Object(o.f)();Object(n.useEffect)((function(){O.a.get("http://rec76.pythonanywhere.com/media/".concat(w)).then((function(e){O.a.post("/favorites/check",{mediaId:w,accessToken:k.accessToken}).then((function(e){x(e.data.isHearted)})).catch((function(e){})),a(e.data)})),O.a.get("http://rec76.pythonanywhere.com/similar-medias/".concat(w)).then((function(e){u(e.data)})),O.a.post("/favorite-genres",{accessToken:k.accessToken}).then((function(e){N(e.data),console.log(p)})).catch((function(e){}))}),[]),Object(n.useEffect)((function(){(null===c||void 0===c?void 0:c.original_title)&&(document.title="REC TN \u2023 ".concat(c.original_title)),(null===c||void 0===c?void 0:c.name)&&(document.title="REC TN \u2023 ".concat(c.name))}),[c]);return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsxs)("h1",{className:"single-media-title",id:"title",children:[Object(l.jsx)(r.b,{to:"/",className:"go-back",onClick:function(){},children:Object(l.jsx)("img",{src:"/assets/imgs/previous.png",alt:"Go To Home Page"})}),!c.id&&"Loading..",null===c||void 0===c?void 0:c.original_title,null===c||void 0===c?void 0:c.name,(null===c||void 0===c?void 0:c.release_date)&&" (".concat(c.release_date.substr(0,4),")"),(null===c||void 0===c?void 0:c.first_air_date)&&" (".concat(c.first_air_date.substr(0,4),")")]}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("img",{className:"poster",src:"http://image.tmdb.org/t/p/w500"+c.poster_path,alt:""}),c.id&&Object(l.jsxs)("div",{className:"movie_data",children:[c.media_type&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Media Type:"})," ","tv"===c.media_type?"TV Show":"Movie"]}),c.original_language&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Original Language:"})," ",c.original_language.toUpperCase()]}),c.overview&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Overview:"})," ",c.overview]}),c.release_date&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Release Date:"})," ",M(c.release_date)]}),c.first_air_date&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"First Air Date:"})," ",M(c.first_air_date)]}),null!==c.vote_average&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Vote Average:"})," ",c.vote_average]}),c.adult&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Adults:"})," ",c.adult]}),c.genre_ids&&Object(l.jsxs)("div",{children:[Object(l.jsx)("label",{children:"Genres:"})," ",0===c.genre_ids.length?"Unclassed":c.genre_ids.map((function(e,t){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("span",{className:p.includes(e)?"underlined":"",children:f(e)}),t!==c.genre_ids.length-1?", ":""]})}))]})]}),c.id&&localStorage.getItem("accessToken")&&Object(l.jsx)("div",{className:"heart-media",onClick:function(){O.a.post("/favorites/toggle",{mediaId:w,accessToken:k.accessToken}).then((function(e){x(e.data.isHearted)})).catch((function(e){}))},children:m?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(A.a,{})," Remove this"," ","tv"===c.media_type?"TV Show":"Movie"," from Favorites"]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(A.b,{})," Add this"," ","tv"===c.media_type?"TV Show":"Movie"," to Favorites"]})})]}),Object(l.jsxs)("div",{className:"similar-medias",children:[Object(l.jsx)("h3",{children:"Similar Movies and TV Shows"}),0===(null===j||void 0===j?void 0:j.length)&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(L.a,{})," Working on it.."]}),null===j||void 0===j?void 0:j.map((function(e){var t;return Object(l.jsxs)("a",{className:"single-similar-media",onClick:function(){return function(e){u([]),O.a.get("http://rec76.pythonanywhere.com/media/".concat(e)).then((function(t){y.push("/media/".concat(e)),a(t.data),O.a.post("/favorites/check",{mediaId:e,accessToken:k.accessToken}).then((function(e){x(e.data.isHearted)})).catch((function(e){})),O.a.get("http://rec76.pythonanywhere.com/similar-medias/".concat(e)).then((function(e){u(e.data)}))}))}(e.id)},href:"#title",children:[Object(l.jsx)("img",{src:"http://image.tmdb.org/t/p/w500"+e.backdrop_path,alt:"Poster"}),Object(l.jsxs)("div",{className:"img_paragraphs",children:[Object(l.jsxs)("p",{children:[null===e||void 0===e?void 0:e.original_title,null===e||void 0===e?void 0:e.name,(null===e||void 0===e?void 0:e.release_date)&&" (".concat(e.release_date.substr(0,4),")"),(null===e||void 0===e?void 0:e.first_air_date)&&" (".concat(e.first_air_date.substr(0,4),")")]}),Object(l.jsx)("p",{children:null===e||void 0===e||null===(t=e.genre_ids)||void 0===t?void 0:t.map((function(e){return f(e)})).join(", ")})]})]},e.id)}))]})]})},G=function(){Object(o.f)();var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)(""),r=Object(i.a)(s,2),d=r[0],j=r[1],u=Object(n.useState)([]),b=Object(i.a)(u,2),h=b[0];b[1];Object(n.useEffect)((function(){document.title="REC TN \u2023 Search"}),[]);var O=function(){c.length<6?j("Please enter a title that is 6 characters or more."):(j(""),alert("Not implemented yet."))};return Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("h1",{children:"Search"}),Object(l.jsxs)("div",{className:"input-btn-search",children:[Object(l.jsx)("input",{type:"text",placeholder:"Enter a title (min 6 chars)",autoFocus:!0,onChange:function(e){a(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&O()}}),Object(l.jsx)("button",{onClick:O,children:Object(l.jsx)(A.c,{})})]}),Object(l.jsxs)("div",{className:"content",children:[Object(l.jsx)("p",{className:"search-msg",children:d}),h.map((function(e){return Object(l.jsxs)("p",{children:[null===e||void 0===e?void 0:e.title," ",null===e||void 0===e?void 0:e.name]})}))]})]})},H=function(){return Object(n.useEffect)((function(){document.title="REC TN \u2023 Page Not Found"})),Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("h1",{children:"404 - Not Found"})})},U=(c(88),Object(n.createContext)()),Y=function(){var e=Object(n.useState)({}),t=Object(i.a)(e,2),c=t[0],a=t[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("accessToken"),t=localStorage.getItem("email");e&&t&&a({accessToken:e,email:t})}),[]),Object(l.jsx)(U.Provider,{value:{mainData:c,setMainData:a},children:Object(l.jsxs)(r.a,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(x,{}),Object(l.jsxs)(o.c,{children:[Object(l.jsxs)(o.a,{exact:!0,path:"/",children:[Object(l.jsx)(v,{}),Object(l.jsx)(N,{}),Object(l.jsx)(k,{}),Object(l.jsx)(w,{}),Object(l.jsx)(y,{}),Object(l.jsx)(T,{}),Object(l.jsx)(E,{})]}),Object(l.jsx)(o.a,{exact:!0,path:"/login",component:R}),Object(l.jsx)(o.a,{exact:!0,path:"/register",component:I}),Object(l.jsx)(o.a,{exact:!0,path:"/profile",component:P}),Object(l.jsx)(o.a,{exact:!0,path:"/favorites",component:F}),Object(l.jsx)(o.a,{exact:!0,path:"/favorite-genres",component:D}),Object(l.jsx)(o.a,{exact:!0,path:"/media/:mediaId",component:V}),Object(l.jsx)(o.a,{exact:!0,path:"/search",component:G}),Object(l.jsx)(o.a,{path:"*",component:H})]})]})})};s.a.render(Object(l.jsx)(Y,{}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.507a3483.chunk.js.map